// Claude Desktopì—ì„œ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ìë™ í¬ìŠ¤íŠ¸ ìƒì„± ìŠ¤í¬ë¦½íŠ¸

// í¬ìŠ¤íŠ¸ ì£¼ì œ ëª©ë¡
const dailyTopics = [
  {
    name: 'ê°œë°œ',
    topics: [
      'ì˜¤ëŠ˜ì˜ ê°œë°œ íŒ',
      'ì½”ë”© ìƒì‚°ì„± í–¥ìƒë²•',
      'ê°œë°œ ë„êµ¬ í™œìš©ë²•',
      'í”„ë¡œê·¸ë˜ë° ì–¸ì–´ íŠ¸ë Œë“œ',
      'ê°œë°œ í™˜ê²½ ì„¤ì • íŒ',
      'ë””ë²„ê¹… ë…¸í•˜ìš°',
      'ì½”ë“œ ë¦¬ë·° ë°©ë²•',
      'í…ŒìŠ¤íŠ¸ ì‘ì„±ë²•',
      'í´ë¦° ì½”ë“œ ì›ì¹™',
      'ì„±ëŠ¥ ìµœì í™” ê¸°ë²•'
    ]
  },
  {
    name: 'MCPÂ·ì—ì´ì „íŠ¸',
    topics: [
      'MCP í™œìš© ì‚¬ë¡€',
      'AI ì—ì´ì „íŠ¸ ê°œë°œ',
      'ìë™í™” ìŠ¤í¬ë¦½íŠ¸',
      'Claude í™œìš©ë²•',
      'Cursor AI ê¸°ëŠ¥',
      'AI ì½”ë”© ë„êµ¬',
      'í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§',
      'AIì™€ í˜‘ì—…í•˜ëŠ” ë°©ë²•',
      'ìë™í™” ì›Œí¬í”Œë¡œìš°',
      'AI ì—ì´ì „íŠ¸ ìµœì í™”'
    ]
  },
  {
    name: 'í•™ìŠµ',
    topics: [
      'ìƒˆë¡œìš´ ê¸°ìˆ  í•™ìŠµ',
      'ì˜¨ë¼ì¸ ê°•ì˜ ì¶”ì²œ',
      'ì±… ë¦¬ë·°',
      'í•™ìŠµ ë°©ë²•ë¡ ',
      'ê¸°ìˆ  ë¬¸ì„œ ì‘ì„±ë²•',
      'ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œ',
      'í•™ìŠµ ê³„íš ìˆ˜ë¦½',
      'ê¸°ìˆ  ë¸”ë¡œê·¸ ìš´ì˜',
      'ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬',
      'ë©˜í† ë§ ê²½í—˜'
    ]
  },
  {
    name: 'ì¼ìƒ',
    topics: [
      'ê°œë°œì ì¼ìƒ',
      'ì›ê²© ê·¼ë¬´ ê²½í—˜',
      'ì›Œë¼ë°¸ ê´€ë¦¬',
      'ê±´ê°• ê´€ë¦¬ íŒ',
      'ì·¨ë¯¸ ìƒí™œ',
      'ì—¬í–‰ í›„ê¸°',
      'ìŒì‹ ì¶”ì²œ',
      'ì˜í™”/ë“œë¼ë§ˆ ë¦¬ë·°',
      'ìš´ë™ ë£¨í‹´',
      'ëª…ìƒê³¼ ë§ˆìŒì±™ê¹€'
    ]
  }
]

// ë‚ ì§œ ê¸°ë°˜ ì£¼ì œ ì„ íƒ
function getTodayTopic() {
  const today = new Date()
  const dayOfYear = Math.floor((today.getTime() - new Date(today.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24))
  
  const categoryIndex = dayOfYear % dailyTopics.length
  const category = dailyTopics[categoryIndex]
  const topicIndex = dayOfYear % category.topics.length
  
  return {
    category: category.name,
    topic: category.topics[topicIndex],
    date: today.toISOString().split('T')[0]
  }
}

// ë©”ì¸ í•¨ìˆ˜
async function generateTodayPost() {
  const { category, topic, date } = getTodayTopic()
  const slug = `daily-${date}`
  
  console.log(`ğŸ“ ì˜¤ëŠ˜ì˜ í¬ìŠ¤íŠ¸ ì •ë³´:`)
  console.log(`   ë‚ ì§œ: ${date}`)
  console.log(`   ì£¼ì œ: ${topic}`)
  console.log(`   ì¹´í…Œê³ ë¦¬: ${category}`)
  console.log(`   ìŠ¬ëŸ¬ê·¸: ${slug}`)
  
  // Claudeì—ê²Œ ì „ë‹¬í•  í”„ë¡¬í”„íŠ¸ ìƒì„±
  const prompt = `ì˜¤ëŠ˜ì€ "${topic}"ì— ëŒ€í•œ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

**ë¸”ë¡œê·¸ ì •ë³´:**
- ë¸”ë¡œê·¸ëª…: ì‘ëª… ë¡œê·¸ (eungming.com)
- ì¹´í…Œê³ ë¦¬: ${category}
- ìŠ¬ëŸ¬ê·¸: ${slug}
- ë‚ ì§œ: ${date}

**ìš”êµ¬ì‚¬í•­:**
1. ì œëª©ì€ ë§¤ë ¥ì ì´ê³  SEO ì¹œí™”ì ìœ¼ë¡œ
2. ì‹¤ìš©ì ì´ê³  êµ¬ì²´ì ì¸ ì •ë³´ í¬í•¨
3. ê°œë°œìë“¤ì´ ì‹¤ì œë¡œ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ë‚´ìš©
4. ê°œì¸ì ì¸ ê²½í—˜ê³¼ ì¸ì‚¬ì´íŠ¸ í¬í•¨
5. ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì‘ì„±
6. 1000-2000ì ì •ë„ì˜ ì ì ˆí•œ ê¸¸ì´
7. í•œêµ­ì–´ë¡œ ì‘ì„±
8. í¬ìŠ¤íŠ¸ ëì— "ì´ í¬ìŠ¤íŠ¸ëŠ” ${date}ì— ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤." ì¶”ê°€

**ê¸€ì˜ êµ¬ì¡°:**
- ë§¤ë ¥ì ì¸ ë„ì…ë¶€
- ì£¼ìš” ë‚´ìš© (2-3ê°œ ì„¹ì…˜)
- ì‹¤ì œ ì ìš© ì‚¬ë¡€ë‚˜ íŒ
- ë§ˆë¬´ë¦¬ ë° ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ

**ìŠ¤íƒ€ì¼:**
- ì¹œê·¼í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ í†¤
- ì „ë¬¸ì ì´ë©´ì„œë„ ì ‘ê·¼ ê°€ëŠ¥í•œ ë‚´ìš©
- êµ¬ì²´ì ì¸ ì˜ˆì‹œì™€ ì½”ë“œ í¬í•¨ (í•„ìš”ì‹œ)

ì´ì œ "${topic}"ì— ëŒ€í•œ ê³ í’ˆì§ˆ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.`

  console.log(`\nğŸ¤– Claudeì—ê²Œ ì „ë‹¬í•  í”„ë¡¬í”„íŠ¸:`)
  console.log(`\n${prompt}`)
  
  console.log(`\nğŸ’¡ ì´ í”„ë¡¬í”„íŠ¸ë¥¼ Claudeì— ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê³  í¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œ í›„,`)
  console.log(`   MCPë¥¼ í†µí•´ ë¸”ë¡œê·¸ì— ì €ì¥í•˜ì„¸ìš”!`)
  
  return {
    slug,
    category,
    topic,
    date,
    prompt
  }
}

// ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
if (typeof window === 'undefined') {
  generateTodayPost()
    .then(result => {
      console.log('\nâœ… ì˜¤ëŠ˜ì˜ í¬ìŠ¤íŠ¸ ì •ë³´ ìƒì„± ì™„ë£Œ!')
    })
    .catch(error => {
      console.error('ğŸ’¥ ì˜¤ë¥˜ ë°œìƒ:', error)
    })
}

export { generateTodayPost, getTodayTopic }
